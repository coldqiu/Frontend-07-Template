<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let names = Object.getOwnPropertyNames(window);

      function filterOut(names, props) {
        let set = new Set();
        props.forEach((o) => set.add(o));
        return names.filter((e) => !set.has(e));
      }

      // ECMA 262
      {
        let js = new Set();
        let objects = [];
      }

      // http://www.ecma-international.org/ecma-402/5.0/index.html#Title
      names = names.filter((e) => e != "Intl");

      //   https://developer.mozilla.org/zh-CN/docs/Web/API/WebGL_API
      //   https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15
      names = filterOut(names, [
        "WebGLRenderingContext",
        "WebGL2RenderingContext",
        "WebGLActiveInfo",
        "WebGLBuffer",
        "WebGLContextEvent",
        "WebGLFramebuffer",
        "WebGLProgram",
        "WebGLQuery",
        "WebGLRenderbuffer",
        "WebGLSampler",
        "WebGLShader",
        "WebGLShaderPrecisionFormat",
        "WebGLSync",
        "WebGLTexture",
        "WebGLTransformFeedback",
        "WebGLUniformLocation",
        "WebGLVertexArrayObject",
      ]);
      
      // Web Background Synchronization
      //https://wicg.github.io/BackgroundSync/spec/#/sync-manager-interface
      names = filterOut(names, ["SyncManager"]);
      // webkit private
      names = names.filter((e) => !e.match(/^webkit/));
      // Audio
      names = names.filter((e) => !e.match(/^Audio/));
      // events
      names = names.filter((e) => !e.match(/^on/));

      console.log("names", names);

      console.log("names.length", names.length);

      // 示例，https://github.com/youwithouto/Frontend-07-Template/blob/main/Week13/api.html
    </script>
  </body>
</html>
